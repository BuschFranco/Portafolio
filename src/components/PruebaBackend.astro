---
// Importa `fetch` de `node-fetch` si es necesario, pero para la mayoría de los casos en Astro, `fetch` ya está disponible globalmente.

const fetchData = async () => {
  try {
    const response = await fetch('https://api-backend-self.vercel.app/api/hello'); // Hacer la solicitud al backend
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }
    const data = await response.json(); // Parsear la respuesta JSON
    return data;
  } catch (error) {
    console.error('Error fetching data:', error); // Manejar errores
    return null;
  }
};

const data = await fetchData();
---

<html>
  <body>
    <h1>Data from API:</h1>
    <pre>{JSON.stringify(data, null, 2)}</pre> {/* Muestra los datos en formato JSON */}
  </body>
</html>
